{% extends 'base.html' %}
{% block content %}

<h3>Complete the form below to sign up for texts</h3>
<br>
<form action="/process-registration" method="POST">
    <table>
        <tr>
            <td>First name:
            <input type="text" name ="fname"></td>
            <td>Last name:
            <input type="text" name ="lname"></td>
        </tr>
        <tr>
            <td><br></td>
        </tr>
        <tr>
            <td>Phone number: 
            <input type="text" name ="phone"></td>
        </tr>
    </table>
    <br>
    <i>Which text alerts would you like to receive?</i>
    <br>
    <br>
    <h5>Moon Phases</h5>
    <div class="moon_phases">
        {% for moon_phase_type in moon_phase_types %}
            <input type="checkbox" name="moon_phases" value="{{ moon_phase_type.title }}">  {{ moon_phase_type.title }}
            <button type="button" class="btn" data-toggle="popover" title="{{ moon_phase_type.title }}" data-content="{{ moon_phase_type.description }}">
                <span class="glyphicon glyphicon-question-sign"></span>
            </button>
            <br>
        {% endfor %}
    </div>
    <h5>Specific Full Moons</h5>
    <div class="full_moon_nicknames">
        {% for full_moon_nickname in full_moon_nicknames %}
            <input type="checkbox" name="full_moon_nicknames" value="{{ full_moon_nickname.title }}">  {{ full_moon_nickname.title }}
            <button type="button" class="btn" data-toggle="popover" title="{{ full_moon_nickname.title }}" data-content="{{ full_moon_nickname.description }}">
                <span class="glyphicon glyphicon-question-sign"></span>
            </button>
            <br>
        {% endfor %}
    </div>
    <input type="submit">
</form>

<style>
    .popover.show {
    opacity: 1;
}
</style>

<script>
$(document).ready(function() {
    $('[data-toggle="popover"]').popover({
        trigger:'click',
        opacity: 1
    });
});
</script>

{% endblock %}